<html>
<head>
<title>Weather</title>
<link href="https://fonts.googleapis.com/css?family=Amatic+SC|Comfortaa|Monoton|Raleway" rel="stylesheet">
<link rel="stylesheet" href="https://use.typekit.net/jhe0vba.css">
<link rel="stylesheet" type="text/css" href="style.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>

  
    $( document ).ready(function() {
        gettingJSON();
     });
    
    var nytemp;
    var nywindspeed;

    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    
    async function gettingJSON(){
        //$(".group1").css("background-color","#96B1C6");
        //$(".group2").css("background-color","#96B1C6");
        //document.writeln("jquery loaded<br/>");
        // a7b6f9d172b3942c95451e615475b7fc

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=New York&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
            $("#city3").html(json.name + "  " + json.main.temp + '<span>&#8451;</span>');
            nytemp = json.main.temp;
            nywindspeed = json.wind.speed;
        });

        await sleep(2000);

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=London&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
            $("#city1").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');
            
        });


        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=Paris&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
             $("#city2").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');
            
        });

      

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=Mumbai&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
             $("#city4").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');
            
        });

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=Tokyo&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
             $("#city5").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');
         });

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=Dubai&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
            $("#city6").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');   
          });

        $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=Lima&APPID=4dceca36bb6ca191e829408bdd0a3ede&units=metric",function(json){
            //document.write(JSON.stringify(json));
             $("#city7").html('<a target="_blank" href="page3.html?t2=' + json.main.temp + '&t1=' + nytemp  
                + '&s1=' + nywindspeed   + '&s2='   + json.wind.speed 
                + '&c1=' + "New York"   + '&c2='   + json.name
                + '" >'+ json.name + "  " + json.main.temp + '<span>&#8451;</span></a>');
            
        });

    }


   
    </script>
</head>
<body>
  <header> <h1> Weather today </h1> </header>  
    <!-- <button id = "getIt" onclick = "gettingJSON()">Get Weather</button>  -->


<!-- Sidebar -->
<div class="sidenav">
    <br><br>
<div class="constant"> Current weather : </div> 
<div id="city3" class="newyork"> </div> 
<br><hr>
<div class="instruction"> Choose a city to compare to </div>
</div>

 


<!-- Page Content -->
<div class="body">
<p id="city1" class="group1"> </p> <div class="vl"></div>
<p id="city2" class="group1"> </p> <div class="vl"></div>
<p id="city4" class="group1"> </p> <div class="vl"></div>
<p id="city5" class="group2"> </p> <div class="vl"></div>
<p id="city6" class="group2"> </p> <div class="vl"></div>
<p id="city7" class="group2"> </p>
</div>
</body>
</html>